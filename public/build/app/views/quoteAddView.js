define(["jquery","lodash","backbone","events","app","text!../../../templates/add_quote.phtml","quotesData"],function(e,t,n,r,i,s,o){var u=n.View.extend({el:".main",initialize:function(){i.quotesCollection===undefined&&(this.collection=new o.Collection,this.collection.fetch()),this.$el.html(s),this.add_quote=e("#add_quote"),this.add_author=e("#add_author")},events:{"click #add-quote-btn":"addQuote","click .close":"closeAlert"},addQuote:function(t){t.preventDefault();var n=this.collection.create({quote:this.add_quote.val(),author:this.add_author.val(),user_id:e.cookie("user_id")},{wait:!0});e(".add-quote-success").removeClass("h");var r=function(){e(".close").trigger("click")};this.clearForm(),setTimeout(r,1500)},closeAlert:function(t){t.preventDefault(),e(".add-quote-success").addClass("h")},clearForm:function(){this.add_quote.val(""),this.add_author.val("")}});return u});